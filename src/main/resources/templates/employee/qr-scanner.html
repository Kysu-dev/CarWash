<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{employee/layout :: layout(~{::title}, ~{::main})}">

<head>
    <title>QR Scanner - CarWash Employee Dashboard</title>
</head>

<main>
    <div class="container-fluid">
        <!-- Page Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h2 class="mb-0">
                            <i class="fas fa-qrcode me-2 text-primary"></i>
                            QR Code Scanner
                        </h2>
                        <p class="text-muted mb-0">Scan customer booking QR codes for quick check-in</p>
                    </div>
                    <div class="d-flex gap-2">
                        <button class="btn btn-outline-primary" onclick="showScanHistory()">
                            <i class="fas fa-history me-1"></i> Scan History
                        </button>
                        <button class="btn btn-primary" onclick="toggleScanner()">
                            <i class="fas fa-camera me-1"></i> <span id="scannerToggleText">Start Scanner</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scanner Status Cards -->
        <div class="row mb-4">
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-primary shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                    Scans Today
                                </div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800" id="scansToday">47</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-qrcode fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-success shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                    Successful Scans
                                </div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800" id="successfulScans">44</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-check-circle fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-warning shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                    Failed Scans
                                </div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800" id="failedScans">3</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-exclamation-triangle fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-info shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                    Scanner Status
                                </div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">
                                    <span class="badge bg-secondary" id="scannerStatus">Offline</span>
                                </div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-broadcast-tower fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Scanner Interface -->
        <div class="row mb-4">
            <div class="col-xl-8 col-lg-7">
                <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-primary">
                            <i class="fas fa-camera me-2"></i>Scanner Interface
                        </h6>
                        <div class="d-flex align-items-center">
                            <span class="badge bg-secondary me-2" id="scannerStatusBadge">Ready</span>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="autoProcessSwitch" checked>
                                <label class="form-check-label" for="autoProcessSwitch">Auto Process</label>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="scanner-container">
                            <div class="scanner-viewport" id="scannerViewport">
                                <div class="scanner-overlay">
                                    <div class="scanner-frame">
                                        <div class="scanner-corners">
                                            <div class="corner top-left"></div>
                                            <div class="corner top-right"></div>
                                            <div class="corner bottom-left"></div>
                                            <div class="corner bottom-right"></div>
                                        </div>
                                        <div class="scanner-line"></div>
                                    </div>
                                </div>
                                <div class="scanner-placeholder" id="scannerPlaceholder">
                                    <i class="fas fa-qrcode fa-5x text-muted mb-3"></i>
                                    <h5 class="text-muted">QR Code Scanner</h5>
                                    <p class="text-muted">Click "Start Scanner" to begin scanning QR codes</p>
                                    <button class="btn btn-primary" onclick="toggleScanner()">
                                        <i class="fas fa-play me-2"></i>Start Scanner
                                    </button>
                                </div>
                            </div>
                            
                            <div class="scanner-controls mt-3">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button class="btn btn-success w-100" onclick="simulateSuccessfulScan()">
                                            <i class="fas fa-check me-2"></i>Simulate Successful Scan
                                        </button>
                                    </div>
                                    <div class="col-md-6">
                                        <button class="btn btn-warning w-100" onclick="manualBookingEntry()">
                                            <i class="fas fa-keyboard me-2"></i>Manual Entry
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-4 col-lg-5">
                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">
                            <i class="fas fa-info-circle me-2"></i>Scan Result
                        </h6>
                    </div>
                    <div class="card-body">
                        <div id="scanResult">
                            <div class="text-center text-muted py-4">
                                <i class="fas fa-search fa-3x mb-3"></i>
                                <h6>No scan results yet</h6>
                                <p class="small">Scan a QR code to see booking details here</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">
                            <i class="fas fa-cogs me-2"></i>Scanner Settings
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="form-group mb-3">
                            <label for="scannerSensitivity" class="form-label">Scanner Sensitivity</label>
                            <input type="range" class="form-range" id="scannerSensitivity" min="1" max="10" value="7">
                            <div class="d-flex justify-content-between">
                                <small class="text-muted">Low</small>
                                <small class="text-muted">High</small>
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="scannerResolution" class="form-label">Resolution</label>
                            <select class="form-select" id="scannerResolution">
                                <option value="720p">720p (Recommended)</option>
                                <option value="1080p">1080p (High Quality)</option>
                                <option value="480p">480p (Fast)</option>
                            </select>
                        </div>

                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="soundNotifications" checked>
                            <label class="form-check-label" for="soundNotifications">
                                Sound Notifications
                            </label>
                        </div>

                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="vibrationFeedback" checked>
                            <label class="form-check-label" for="vibrationFeedback">
                                Vibration Feedback
                            </label>
                        </div>

                        <button class="btn btn-outline-primary w-100" onclick="resetScannerSettings()">
                            <i class="fas fa-undo me-2"></i>Reset Settings
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Scans -->
        <div class="row">
            <div class="col-12">
                <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-primary">Recent Scans</h6>
                        <button class="btn btn-sm btn-outline-primary" onclick="clearScanHistory()">
                            <i class="fas fa-trash me-1"></i>Clear History
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered" id="scanHistoryTable" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th>Time</th>
                                        <th>Booking ID</th>
                                        <th>Customer</th>
                                        <th>Service</th>
                                        <th>Status</th>
                                        <th>Action Taken</th>
                                        <th>Result</th>
                                    </tr>
                                </thead>
                                <tbody id="scanHistoryBody">
                                    <!-- Scan history will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Manual Entry Modal -->
    <div class="modal fade" id="manualEntryModal" tabindex="-1" aria-labelledby="manualEntryModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="manualEntryModalLabel">
                        <i class="fas fa-keyboard me-2"></i>Manual Booking Entry
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="manualEntryForm">
                        <div class="mb-3">
                            <label for="bookingIdInput" class="form-label">Booking ID</label>
                            <input type="text" class="form-control" id="bookingIdInput" placeholder="Enter booking ID">
                        </div>
                        <div class="mb-3">
                            <label for="customerNameInput" class="form-label">Customer Name</label>
                            <input type="text" class="form-control" id="customerNameInput" placeholder="Enter customer name">
                        </div>
                        <div class="mb-3">
                            <label for="phoneNumberInput" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="phoneNumberInput" placeholder="Enter phone number">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="processManualEntry()">
                        <i class="fas fa-search me-1"></i>Search Booking
                    </button>
                </div>
            </div>
        </div>
    </div>

    <style>
        .border-left-primary {
            border-left: 0.25rem solid #4e73df !important;
        }
        .border-left-success {
            border-left: 0.25rem solid #1cc88a !important;
        }
        .border-left-warning {
            border-left: 0.25rem solid #f6c23e !important;
        }
        .border-left-info {
            border-left: 0.25rem solid #36b9cc !important;
        }

        .scanner-container {
            position: relative;
        }

        .scanner-viewport {
            position: relative;
            width: 100%;
            height: 400px;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
        }

        .scanner-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            color: #6c757d;
        }

        .scanner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
            pointer-events: none;
        }

        .scanner-frame {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 250px;
            height: 250px;
            transform: translate(-50%, -50%);
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 8px;
        }

        .scanner-corners {
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
        }

        .corner {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 3px solid #fff;
        }

        .corner.top-left {
            top: 0;
            left: 0;
            border-right: none;
            border-bottom: none;
        }

        .corner.top-right {
            top: 0;
            right: 0;
            border-left: none;
            border-bottom: none;
        }

        .corner.bottom-left {
            bottom: 0;
            left: 0;
            border-right: none;
            border-top: none;
        }

        .corner.bottom-right {
            bottom: 0;
            right: 0;
            border-left: none;
            border-top: none;
        }

        .scanner-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #fff, transparent);
            animation: scanLine 2s linear infinite;
        }

        @keyframes scanLine {
            0% { transform: translateY(-125px); }
            100% { transform: translateY(125px); }
        }

        .scanner-active .scanner-placeholder {
            display: none;
        }

        .scanner-active .scanner-viewport {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
        }

        .scan-result-success {
            border-left: 4px solid #1cc88a;
            background: #d4edda;
        }

        .scan-result-error {
            border-left: 4px solid #e74a3b;
            background: #f8d7da;
        }

        .pulse-green {
            animation: pulseGreen 1s ease-in-out;
        }

        @keyframes pulseGreen {
            0% { background-color: #d4edda; }
            50% { background-color: #c3e6cb; }
            100% { background-color: #d4edda; }
        }
    </style>

    <script>
        let scannerActive = false;
        let scanHistory = [
            {
                time: '14:30:15',
                bookingId: 'BK001',
                customer: 'John Doe',
                service: 'Premium Wash',
                status: 'Valid',
                action: 'Check-in',
                result: 'Success'
            },
            {
                time: '14:25:42',
                bookingId: 'BK002',
                customer: 'Jane Smith',
                service: 'Basic Wash',
                status: 'Valid',
                action: 'Check-in',
                result: 'Success'
            },
            {
                time: '14:20:33',
                bookingId: 'BK999',
                customer: 'Unknown',
                service: 'N/A',
                status: 'Invalid',
                action: 'None',
                result: 'Failed'
            }
        ];

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadScanHistory();
            updateScannerStats();
        });

        function toggleScanner() {
            const viewport = document.getElementById('scannerViewport');
            const placeholder = document.getElementById('scannerPlaceholder');
            const toggleText = document.getElementById('scannerToggleText');
            const statusBadge = document.getElementById('scannerStatusBadge');
            const scannerStatus = document.getElementById('scannerStatus');

            if (!scannerActive) {
                // Start scanner
                viewport.classList.add('scanner-active');
                toggleText.textContent = 'Stop Scanner';
                statusBadge.className = 'badge bg-success me-2';
                statusBadge.textContent = 'Active';
                scannerStatus.className = 'badge bg-success';
                scannerStatus.textContent = 'Online';
                scannerActive = true;
                
                showToast('Scanner started successfully!', 'success');
            } else {
                // Stop scanner
                viewport.classList.remove('scanner-active');
                toggleText.textContent = 'Start Scanner';
                statusBadge.className = 'badge bg-secondary me-2';
                statusBadge.textContent = 'Ready';
                scannerStatus.className = 'badge bg-secondary';
                scannerStatus.textContent = 'Offline';
                scannerActive = false;
                
                showToast('Scanner stopped.', 'info');
            }
        }

        function simulateSuccessfulScan() {
            if (!scannerActive) {
                showToast('Please start the scanner first!', 'warning');
                return;
            }

            // Simulate scanning process
            const scanResult = document.getElementById('scanResult');
            scanResult.innerHTML = `
                <div class="text-center py-3">
                    <div class="spinner-border text-primary mb-3" role="status">
                        <span class="visually-hidden">Scanning...</span>
                    </div>
                    <p>Processing QR code...</p>
                </div>
            `;

            // Simulate processing delay
            setTimeout(() => {
                const mockBooking = {
                    id: 'BK' + String(Math.floor(Math.random() * 1000)).padStart(3, '0'),
                    customer: 'Sample Customer',
                    service: 'Premium Wash',
                    vehicle: 'Honda Civic (B1234XYZ)',
                    slot: 'Slot 3',
                    time: '15:00 - 16:00',
                    amount: 'Rp 150.000',
                    status: 'confirmed'
                };

                displayBookingDetails(mockBooking);
                addToScanHistory(mockBooking, 'Success');
                playSuccessSound();
                
                // Add visual feedback
                scanResult.classList.add('pulse-green');
                setTimeout(() => scanResult.classList.remove('pulse-green'), 1000);
                
            }, 2000);
        }

        function displayBookingDetails(booking) {
            const scanResult = document.getElementById('scanResult');
            scanResult.className = 'scan-result-success p-3 rounded';
            scanResult.innerHTML = `
                <div class="d-flex align-items-center mb-3">
                    <i class="fas fa-check-circle text-success fa-2x me-3"></i>
                    <div>
                        <h6 class="mb-0 text-success">Valid Booking Found!</h6>
                        <small class="text-muted">Booking ID: ${booking.id}</small>
                    </div>
                </div>
                
                <table class="table table-sm table-borderless mb-3">
                    <tr>
                        <td><strong>Customer:</strong></td>
                        <td>${booking.customer}</td>
                    </tr>
                    <tr>
                        <td><strong>Service:</strong></td>
                        <td>${booking.service}</td>
                    </tr>
                    <tr>
                        <td><strong>Vehicle:</strong></td>
                        <td>${booking.vehicle}</td>
                    </tr>
                    <tr>
                        <td><strong>Slot:</strong></td>
                        <td><span class="badge bg-primary">${booking.slot}</span></td>
                    </tr>
                    <tr>
                        <td><strong>Time:</strong></td>
                        <td>${booking.time}</td>
                    </tr>
                    <tr>
                        <td><strong>Amount:</strong></td>
                        <td><strong>${booking.amount}</strong></td>
                    </tr>
                </table>
                
                <div class="d-grid gap-2">
                    <button class="btn btn-success" onclick="processCheckIn('${booking.id}')">
                        <i class="fas fa-sign-in-alt me-2"></i>Process Check-in
                    </button>
                    <button class="btn btn-outline-primary" onclick="assignSlot('${booking.id}')">
                        <i class="fas fa-car me-2"></i>Assign Slot
                    </button>
                </div>
            `;
        }

        function processCheckIn(bookingId) {
            showToast(`Customer checked in successfully! Booking: ${bookingId}`, 'success');
            
            // Reset scan result after processing
            setTimeout(() => {
                document.getElementById('scanResult').innerHTML = `
                    <div class="text-center text-muted py-4">
                        <i class="fas fa-search fa-3x mb-3"></i>
                        <h6>Ready for next scan</h6>
                        <p class="small">Scan another QR code to continue</p>
                    </div>
                `;
                document.getElementById('scanResult').className = '';
            }, 3000);
        }

        function assignSlot(bookingId) {
            showToast(`Slot assignment interface would open for booking ${bookingId}`, 'info');
        }

        function addToScanHistory(booking, result) {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { hour12: false });
            
            const historyEntry = {
                time: timeString,
                bookingId: booking.id,
                customer: booking.customer,
                service: booking.service,
                status: 'Valid',
                action: 'Check-in',
                result: result
            };
            
            scanHistory.unshift(historyEntry);
            if (scanHistory.length > 50) {
                scanHistory.pop(); // Keep only last 50 entries
            }
            
            loadScanHistory();
            updateScannerStats();
        }

        function loadScanHistory() {
            const tbody = document.getElementById('scanHistoryBody');
            tbody.innerHTML = '';

            scanHistory.slice(0, 10).forEach(entry => { // Show only last 10 entries
                const row = document.createElement('tr');
                
                const resultBadge = entry.result === 'Success' 
                    ? '<span class="badge bg-success">Success</span>'
                    : '<span class="badge bg-danger">Failed</span>';
                
                const statusBadge = entry.status === 'Valid'
                    ? '<span class="badge bg-success">Valid</span>'
                    : '<span class="badge bg-warning">Invalid</span>';

                row.innerHTML = `
                    <td>${entry.time}</td>
                    <td><strong>${entry.bookingId}</strong></td>
                    <td>${entry.customer}</td>
                    <td>${entry.service}</td>
                    <td>${statusBadge}</td>
                    <td>${entry.action}</td>
                    <td>${resultBadge}</td>
                `;

                tbody.appendChild(row);
            });
        }

        function updateScannerStats() {
            const totalScans = scanHistory.length;
            const successfulScans = scanHistory.filter(entry => entry.result === 'Success').length;
            const failedScans = totalScans - successfulScans;

            document.getElementById('scansToday').textContent = totalScans;
            document.getElementById('successfulScans').textContent = successfulScans;
            document.getElementById('failedScans').textContent = failedScans;
        }

        function manualBookingEntry() {
            const modal = new bootstrap.Modal(document.getElementById('manualEntryModal'));
            modal.show();
        }

        function processManualEntry() {
            const bookingId = document.getElementById('bookingIdInput').value;
            const customerName = document.getElementById('customerNameInput').value;
            const phoneNumber = document.getElementById('phoneNumberInput').value;

            if (!bookingId && !customerName && !phoneNumber) {
                showToast('Please enter at least one search criteria!', 'warning');
                return;
            }

            // Close modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('manualEntryModal'));
            modal.hide();

            // Simulate search
            const scanResult = document.getElementById('scanResult');
            scanResult.innerHTML = `
                <div class="text-center py-3">
                    <div class="spinner-border text-primary mb-3" role="status">
                        <span class="visually-hidden">Searching...</span>
                    </div>
                    <p>Searching for booking...</p>
                </div>
            `;

            setTimeout(() => {
                if (Math.random() > 0.3) { // 70% success rate
                    const mockBooking = {
                        id: bookingId || 'BK' + String(Math.floor(Math.random() * 1000)).padStart(3, '0'),
                        customer: customerName || 'Found Customer',
                        service: 'Basic Wash',
                        vehicle: 'Toyota Avanza (D5678ABC)',
                        slot: 'Slot 2',
                        time: '14:30 - 15:30',
                        amount: 'Rp 75.000',
                        status: 'confirmed'
                    };
                    displayBookingDetails(mockBooking);
                    addToScanHistory(mockBooking, 'Success');
                } else {
                    displaySearchError();
                }
            }, 1500);

            // Clear form
            document.getElementById('manualEntryForm').reset();
        }

        function displaySearchError() {
            const scanResult = document.getElementById('scanResult');
            scanResult.className = 'scan-result-error p-3 rounded';
            scanResult.innerHTML = `
                <div class="d-flex align-items-center mb-3">
                    <i class="fas fa-exclamation-triangle text-danger fa-2x me-3"></i>
                    <div>
                        <h6 class="mb-0 text-danger">Booking Not Found</h6>
                        <small class="text-muted">No matching booking found</small>
                    </div>
                </div>
                
                <p class="mb-3">Please check the booking details and try again, or contact the customer to verify their booking information.</p>
                
                <div class="d-grid gap-2">
                    <button class="btn btn-warning" onclick="manualBookingEntry()">
                        <i class="fas fa-search me-2"></i>Search Again
                    </button>
                    <button class="btn btn-outline-primary" onclick="createWalkInBooking()">
                        <i class="fas fa-plus me-2"></i>Create Walk-in Booking
                    </button>
                </div>
            `;
        }

        function createWalkInBooking() {
            showToast('Walk-in booking creation would be implemented here!', 'info');
        }

        function showScanHistory() {
            showToast('Detailed scan history report would be shown here!', 'info');
        }

        function clearScanHistory() {
            if (confirm('Are you sure you want to clear the scan history?')) {
                scanHistory = [];
                loadScanHistory();
                updateScannerStats();
                showToast('Scan history cleared!', 'success');
            }
        }

        function resetScannerSettings() {
            document.getElementById('scannerSensitivity').value = 7;
            document.getElementById('scannerResolution').value = '720p';
            document.getElementById('soundNotifications').checked = true;
            document.getElementById('vibrationFeedback').checked = true;
            document.getElementById('autoProcessSwitch').checked = true;
            
            showToast('Scanner settings reset to defaults!', 'success');
        }

        function playSuccessSound() {
            // In a real implementation, this would play an actual sound
            if (document.getElementById('soundNotifications').checked) {
                // Simulate sound feedback
                console.log('ðŸ”Š Success sound played');
            }
            
            // Simulate vibration feedback
            if (document.getElementById('vibrationFeedback').checked && navigator.vibrate) {
                navigator.vibrate([100, 50, 100]);
            }
        }

        function showToast(message, type = 'info') {
            // Create toast notification
            const toast = document.createElement('div');
            toast.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            toast.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            toast.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(toast);
            
            // Auto remove after 3 seconds
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.parentNode.removeChild(toast);
                }
            }, 3000);
        }
    </script>
</main>
</html>
